{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/about/about.component.ts","./src/app/about/about.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/model/PeerData.model.ts","./src/app/services/rtc.service.ts","./src/app/services/rtc2.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bbl-about',\r\n  templateUrl: './about.component.html',\r\n  styleUrls: ['./about.component.scss']\r\n})\r\nexport class AboutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<h1>\r\n  CS4241 Group 28 Final Project Proposal\r\n</h1>\r\n<p>5 October 2020</p>\r\n\r\n<p><b>Group Members:</b> Haley Hauptfeld, Ann Jicha, Matthew St. Louis</p>\r\n\r\n<h2>General description</h2>\r\n<p>Our project concept is to create a video chatting web application which allows users to join “bubbles” which are displayed on the page in order to represent different conversation. Users in a can only see and hear other users in the same bubble as themselves. Users can see the labeled bubbles, and click on them in order to join the conversation. Users can also add bubbles if they feel a new conversation is necessary.</p>\r\n\r\n<h2>Users and Stakeholders</h2>\r\n<p>Users for this application would be any group who needs to have smaller conversations in a larger group. An example would be WPI’s activities fair: a group of large students could move in and out of the various bubbles labeled with the club name and a brief description.</p>\r\n\r\n<p>This is a substantial improvement from the current remote system, which forces users to join zoom meeting links individually from a static list on TechSync (which may or may not be set up correctly). With our system, students could log in once, and easily navigate between conversations about different clubs, as well as start their own discussion groups if they choose to (for instance, starting a conversation about what the ideal number of clubs to join is). Starting a new conversation with people that the users do not already know is next to impossible in the status quo.</p>\r\n\r\n<p>Our stakeholders for this project would be: club executives, WPI staff, and students looking to join clubs.</p>\r\n\r\n<h2>Front-end Programming</h2>\r\n<p>We will be using Angular as a web framework to structure our code. We will be using Angular Material as a CSS framework to organize our design.</p>\r\n\r\n<h2>Serverside Programming</h2>\r\n<p>The server will be responsible for keeping track of the “bubbles” that users can jump into and out of for video chatting and for which user is in which bubble. None of us have ever implemented video chatting in JavaScript, so we are unclear on what exact tasks will need to be managed on the server side, but this is our general idea. We will also be implementing user authentication.</p>\r\n\r\n<h2>Deliverables</h2>\r\n<ul>\r\n  <li>Functioning web application with full-stack implementation deployed in Heroku</li>\r\n  <li>A video where each group member explains some aspect of the project</li>\r\n  <li>A README file containing:</li>\r\n  <ul>\r\n    <li>A brief description of what we created, and a link to the project itself.</li>\r\n    <li>Any additional instructions that might be needed to fully use our project (login information etc.)</li>\r\n    <li>An outline of the technologies we used and how we used them</li>\r\n    <li>What challenges we faced in completing the project</li>\r\n    <li>What each group member was responsible for designing / developing</li>\r\n    <li>A link to our project video</li>\r\n  </ul>\r\n</ul>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AboutComponent } from './about/about.component';\r\nimport { HomeComponent } from './home/home.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'about', component: AboutComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bbl-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'bubble';\r\n}\r\n","<mat-toolbar color=\"primary\">\r\n  Bubble (working title)\r\n\r\n  <button mat-flat-button color=\"primary\" [routerLink]=\"['']\"><mat-icon>home</mat-icon></button>\r\n  <button mat-flat-button color=\"primary\" [routerLink]=\"['about']\"><mat-icon>help</mat-icon></button>\r\n</mat-toolbar>\r\n\r\n<div id=\"page-container\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { AboutComponent } from './about/about.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    AboutComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatSlideToggleModule,\r\n    MatGridListModule,\r\n    MatChipsModule,\r\n    MatFormFieldModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatInputModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, HostListener, OnInit } from '@angular/core';\r\nimport { RtcService } from '../services/rtc.service';\r\nimport { Rtc2Service } from '../services/rtc2.service';\r\nimport { Tile } from '../model/Tile.model';\r\nimport { Bubble } from '../model/Bubble.model';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { FormControl, FormGroup, ReactiveFormsModule, FormsModule, FormBuilder } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'bbl-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  audio: any = null;\r\n  video: any = null;\r\n  mirror = true;\r\n  focus: number = null;\r\n  numCols = 1;\r\n  bubbles: Bubble[] = [\r\n    {name: 'one'},\r\n    {name: 'two'},\r\n    {name: 'three'},\r\n  ]\r\n  you: Tile = {text: 'You', cols: 1, rows: 1, color: 'lightblue', index: 0};\r\n  tiles: Tile[] = [\r\n    this.you,\r\n    {text: '1', cols: 1, rows: 1, color: 'lightblue', index: 1},\r\n    {text: '2', cols: 1, rows: 1, color: 'lightgreen', index: 2},\r\n    {text: '3', cols: 1, rows: 1, color: 'lightpink', index: 3},\r\n    {text: '4', cols: 1, rows: 1, color: 'lavender', index: 4},\r\n  ]\r\n  newBubbleForm = this._fb.group({\r\n    newBubble: [''],\r\n  });\r\n\r\n  constructor(\r\n    private _rtc: RtcService,\r\n    private _fb: FormBuilder,\r\n    private _rtc2: Rtc2Service,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.numCols = Math.floor(window.innerWidth / 320);\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event) {\r\n    this.numCols = Math.floor(event.target.innerWidth / 320);\r\n    this.tiles[0].cols = this.numCols;\r\n  }\r\n\r\n  drop(event: CdkDragDrop<Bubble[]>) {\r\n    moveItemInArray(this.bubbles, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  toggleAudio() {\r\n    if(this.audio) {\r\n      this._rtc.removeSelfAudio();\r\n      this.audio = null;\r\n    }\r\n    else {\r\n      this._rtc.connectSelfAudio();\r\n      this.audio = this._rtc.self.audio;\r\n    }\r\n  }\r\n\r\n  toggleVideo() {\r\n    if(this.video) {\r\n      this._rtc.removeSelfVideo();\r\n      this.video = null;\r\n      let pageVideo = document.querySelector(\".your-video\") as HTMLVideoElement;\r\n      pageVideo.srcObject = null;\r\n      pageVideo.play()\r\n    }\r\n    else {\r\n      this._rtc.connectSelfVideo();\r\n      this.video = this._rtc.self.video;\r\n      let pageVideo = document.querySelector(\".your-video\") as HTMLVideoElement;\r\n      pageVideo.srcObject = this.video;\r\n      pageVideo.play()\r\n    }\r\n  }\r\n\r\n  addTile() {\r\n    this.tiles.push({\r\n      text: `${this.tiles.length + 1}`,\r\n      cols: 1,\r\n      rows: 1,\r\n      color: 'lavender',\r\n      index: this.tiles.length\r\n    } as Tile)\r\n  }\r\n\r\n  refocus(i: number) {\r\n    this.unfocus();\r\n    this.focus = i;\r\n    this.tiles[i].cols = this.numCols;\r\n    this.tiles[i].rows = 2;\r\n    let temp = this.tiles[i];\r\n    this.tiles.splice(0, 0, this.tiles.splice(i, 1)[0]);\r\n  }\r\n\r\n  unfocus() {\r\n    if (this.focus === null) {\r\n      return;\r\n    }\r\n    this.tiles[0].cols = 1;\r\n    this.tiles[0].rows = 1;\r\n    this.tiles.splice(this.focus, 0, this.tiles.splice(0, 1)[0]);\r\n    this.focus = null;\r\n  }\r\n\r\n  addBubble(name: string = \"\") {\r\n    if(!name) {\r\n      if (!this.newBubbleForm.get(\"newBubble\")){\r\n        return;\r\n      }\r\n      name = this.newBubbleForm.get(\"newBubble\").value;\r\n    }\r\n    this.bubbles.push({\r\n      name: name\r\n    } as Bubble);\r\n    this.newBubbleForm.get(\"newBubble\").setValue('');\r\n  }\r\n\r\n  activateRTC() {\r\n    this.video = this._rtc2.self.video;\r\n    let pageVideo = document.querySelector(\".your-video\") as HTMLVideoElement;\r\n    pageVideo.srcObject = this.video;\r\n    pageVideo.play()\r\n  }\r\n\r\n}\r\n","<p>Welcome to Bubble! I needed a working title to create the project, and we can rename it if anyone has a preference.</p>\r\n\r\n<h2>Bubbles</h2>\r\n<mat-chip-list\r\n  class=\"example-chip\"\r\n  cdkDropList\r\n  cdkDropListOrientation=\"horizontal\"\r\n  (cdkDropListDropped)=\"drop($event)\">\r\n  <mat-chip\r\n    class=\"example-box\"\r\n    cdkDrag\r\n    *ngFor=\"let bubble of bubbles\"\r\n    (click)=\"addBubble(bubble.name)\">\r\n    {{bubble.name}}\r\n  </mat-chip>\r\n</mat-chip-list>\r\n\r\n<form [formGroup]=\"newBubbleForm\">\r\n  <mat-form-field>\r\n    <mat-label>New Bubble</mat-label>\r\n    <input matNativeControl matInput formControlName=\"newBubble\"/>\r\n  </mat-form-field>\r\n  <button mat-button (click)=\"addBubble()\" [disabled]=\"!newBubbleForm.get('newBubble').value\">\r\n    <mat-icon>add</mat-icon>\r\n  </button>\r\n</form>\r\n\r\n<h2>Socket Tests</h2>\r\n<button mat-button (click)=\"activateRTC()\">Connect</button>\r\n\r\n<h2>\r\n  Videos\r\n  <button mat-button (click)=addTile()>\r\n    <mat-icon>add</mat-icon>\r\n  </button>\r\n</h2>\r\n<mat-grid-list [cols]=\"numCols\">\r\n  <mat-grid-tile *ngFor=\"let tile of tiles; let i = index\"\r\n    [colspan]=\"tile.cols\"\r\n    [rowspan]=\"tile.rows\"\r\n    [style.background]=\"tile.color\">\r\n    <br>\r\n    <div *ngIf=\"tile.index === 0\">\r\n      <video class=\"your-video\" [ngClass]=\"{'mirror' : mirror}\"></video>\r\n    </div>\r\n    <mat-grid-tile-footer>\r\n      <p>{{tile.text}}</p>\r\n      <button *ngIf=\"tile.cols === 1\" mat-button (click)=\"refocus(tile.index)\">\r\n        <mat-icon>fullscreen</mat-icon>\r\n      </button>\r\n      <button *ngIf=\"tile.cols !== 1\" mat-button (click)=\"unfocus()\">\r\n        <mat-icon>fullscreen_exit</mat-icon>\r\n      </button>\r\n\r\n      <!-- You -->\r\n      <div *ngIf=\"tile.index === 0\">\r\n        <button mat-button (click)=\"toggleAudio()\">\r\n          <mat-icon>{{audio? 'mic_off' : 'mic'}}</mat-icon>\r\n        </button>\r\n        <button mat-button (click)=\"toggleVideo()\">\r\n          <mat-icon>{{video? 'videocam_off' : 'videocam'}}</mat-icon>\r\n        </button>\r\n        <!-- <mat-slide-toggle [checked]=\"mirror\">Mirror</mat-slide-toggle> -->\r\n      </div>\r\n      <!-- End You -->\r\n    </mat-grid-tile-footer>\r\n  </mat-grid-tile>\r\n</mat-grid-list>\r\n","export class PeerData {\r\n  peer: any;\r\n  audio: any;\r\n  video: any;\r\n\r\n  constructor(peer: any, audio=null, video=null) {\r\n    this.peer = peer;\r\n    this.audio = audio;\r\n    this.video = video;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport defaultExport, * as SimplePeer from 'node_modules/simple-peer/simplepeer.min.js';\r\nimport { PeerData } from '../model/PeerData.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RtcService {\r\n  self: any;\r\n  clients: PeerData[] = [];\r\n\r\n  constructor() {\r\n    this.self = new PeerData( new SimplePeer({initiator: true}) );\r\n    this.test();\r\n  }\r\n\r\n  addPeer() {\r\n    let newPeer = new SimplePeer();\r\n    newPeer.on('signal', data => {\r\n      this.self.peer.signal(data);\r\n    });\r\n    this.self.peer.on('signal', data => {\r\n      newPeer.signal(data);\r\n    });\r\n    this.clients.push(new PeerData(newPeer));\r\n  }\r\n\r\n  connectSelf(audio: boolean, video: boolean) {\r\n    navigator.mediaDevices.getUserMedia({\r\n      video: video,\r\n      audio: audio\r\n    }).then((stream) => this.self.peer.addStream(stream)).catch(err => {\r\n      console.error(`Error connecting media: ${err}`);\r\n    });\r\n  }\r\n\r\n  connectSelfVideo() {\r\n    navigator.mediaDevices.getUserMedia({\r\n      video: true,\r\n      audio: false\r\n    }).then((stream) => {\r\n      this.self.peer.addStream(stream);\r\n      this.self.video = stream;\r\n    }).catch(err => {\r\n      console.error(`Error connecting media: ${err}`);\r\n    });\r\n  }\r\n\r\n  connectSelfAudio() {\r\n    navigator.mediaDevices.getUserMedia({\r\n      video: false,\r\n      audio: true\r\n    }).then((stream) => {\r\n      this.self.peer.addStream(stream);\r\n      this.self.audio = stream;\r\n    }).catch(err => {\r\n      console.error(`Error connecting media: ${err}`);\r\n    });\r\n  }\r\n\r\n  removeSelfAudio() {\r\n    this.self.peer.removeStream(this.self.audio);\r\n  }\r\n\r\n  removeSelfVideo() {\r\n    this.self.peer.removeStream(this.self.video);\r\n  }\r\n\r\n  getPeerVideo(i: number) {\r\n    this.clients[i].peer.on('stream', stream => {\r\n      this.clients[i].video = stream;\r\n    });\r\n  }\r\n\r\n  test() {\r\n    this.addPeer();\r\n\r\n    this.self.peer.on('connect', () => {\r\n      // wait for 'connect' event before using the data channel\r\n      this.self.peer.send('hey peer2, how is it going?');\r\n    });\r\n\r\n    this.clients[0].peer.on('data', data => {\r\n      // got a data channel message\r\n      console.log('got a message from peer1: ' + data);\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport defaultExport, * as SimplePeer from 'node_modules/simple-peer/simplepeer.min.js';\r\nimport { PeerData } from '../model/PeerData.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Rtc2Service {\r\n  self: PeerData;\r\n  clients: PeerData[] = [];\r\n  ws: WebSocket;\r\n\r\n  constructor() {\r\n    this.setUpEverything();\r\n  }\r\n\r\n  getVideo() {\r\n    return this.self.video;\r\n  }\r\n\r\n  setUpEverything() {\r\n    let rtcConnected = false;\r\n    let p = null;\r\n\r\n    const socketReady = new Promise((resolve, reject) => {\r\n      let constr = null;\r\n      constr = `wss://${window.location.host}`;\r\n      if (window.location.hostname === \"localhost\"){\r\n        constr = `ws://${window.location.host}`;\r\n      }\r\n      this.ws = new WebSocket(constr);\r\n\r\n      this.ws.onopen = () => {\r\n\r\n        this.ws.onmessage = __msg => {\r\n          const msg = JSON.parse(__msg.data)\r\n          if (msg.address === 'connect') {\r\n            resolve(msg.initiator)\r\n          } else {\r\n            p.signal(msg);\r\n          }\r\n        };\r\n      };\r\n    });\r\n\r\n    // get video/voice stream as Promise\r\n    const avReady = navigator.mediaDevices.getUserMedia({\r\n      video: true,\r\n      audio: true\r\n    });\r\n\r\n    const makeConnection = function (initiator) {\r\n      console.log(\"making connection\");\r\n      this.ws.send(initiator);\r\n    };\r\n\r\n    Promise.all([avReady, socketReady]).then(values => {\r\n      const stream = values[0];\r\n\r\n      this.self.peer = new SimplePeer({\r\n        initiator: values[1],\r\n        trickle: false,\r\n        stream\r\n      });\r\n\r\n      this.self.peer.on(\"signal\", data => {\r\n        makeConnection(JSON.stringify(data));\r\n      });\r\n\r\n      this.self.peer.on(\"stream\", stream => {\r\n        // got remote video stream, now let's show it in a video tag\r\n        // var video = document.querySelector(\"video\") as HTMLVideoElement;\r\n\r\n        // video.srcObject = stream;\r\n\r\n        // video.play();\r\n        this.self.video = stream;\r\n      })\r\n    })\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}